{% extends "layout.html" %}
{% block title %}Forum - Powerhouse Fitness Club{% endblock %}
{% block page %}Forum{% endblock %}
{{ super() }}

{% block content %}
<section>
    <div id="forum-discussion-content" class="card">
        <section>
            <a class="button" href="/forum"><b>&larr;Forum</b></a>
            <h1><b>{{discussion.title}}</b></h1>
            <h4>Started by {{get_user(discussion.started_by).username}}</h4>
        </section>
        <hr><br>
        <section>
            <div style="display: flex; flex-direction: row; justify-content: center; align-items: center">
                <div>
                    {% if messages %}
                        {% for message in messages %}
                            <div>
                                <h3>{{get_user(message.user_id).username}} | {{message.datetime}}</h3>
                                <p>{{message.content}}</p>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p>No messages yet. Say something!</p>
                    {% endif %}
                </div>
            </div>
        </section>
        <hr><br>
        <section style="display: flex; flex-direction: column; justify-content: center; align-items: center">
            <form action="/forum/{{discussion.id}}/create-message" method="post" style="width: 400px">
                <textarea name="content" placeholder="Message"></textarea>
                <div style="display: flex; flex-direction: row; justify-content: center; align-items: center">
                    <button type="submit">Send Message</button>
                </div>
            </form>
        </section>
    </div>
</section>
{% endblock %}


