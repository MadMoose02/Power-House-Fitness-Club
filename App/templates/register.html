{% extends "layout.html" %}
{% block title %}Register - Powerhouse Fitness Club{% endblock %}
{% block page %}Register{% endblock %}

{{ super() }}

{% block content %}
<section id="reg-page">
    <h1><b>JOIN THE FAMILY TODAY!</b></h1>
    <section class="img-container">
        <img class="about-img" src="https://www.w3schools.com/howto/img_nature_wide.jpg">
        <div class="centered">
            <h1><b>NEW MEMBER <br>
                REGISTRATION FORM</b></h1>
            <p>Please fill out this form to create an account</p>
        </div>
    </section>
    <section class="form-container">
        <form id="reg-form" action="/register" method="post" enctype="multipart/form-data">
            <section id="memberinfo" class="visible">
                <h2><b>MEMBER INFORMATION</b></h2>
                <label for="firstname"><b>FIRST NAME</b></label>
                <input type="text" placeholder=" First Name" name="firstname" id="firstname" required>
                <br><br>
                <label for="lastname"><b>LAST NAME</b></label>
                <input type="text" placeholder=" Last Name" name="lastname" id="lastname" required>
                <br><br>
                <label for="date"><b>DATE OF BIRTH <br>[Select Calendar Icon]</b></label>
                <br>
                <input type="date" name="dob" required>
                <br><br>
                <label for="sex"><b>SEX</b></label>
                <select name="sex" id="sex">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
                <br><br>
                <label for="package-id"><b>PACKAGE</b></label><br>
                <select name="package-id" id="package">
                    {% for package in packages %}
                        <option id="{{package.type.lower()}}-package" value="{{package.id}}">{{package.type}}</option>
                    {% endfor %}
                </select>
                <br><br>
                <label for="address"><b>ADDRESS</b></label><br>
                <textarea rows="4" cols="50" name="address" placeholder=" Resident Address"></textarea>
                <br><br>
                <label for="contactno"><b>CONTACT NUMBER</b></label>
                <input type="text" placeholder=" Contact Phone Number" name="contactno" id="contactno" required>
                <br><br>
                <label for="email"><b>EMAIL</b></label>
                <input type="text" placeholder=" Email Address" name="email" id="email" required>
                <br><br>
                <label for="password"><b>PASSWORD</b></label>
                <input type="password" placeholder=" Password" name="password" id="password" required>
                <br><br>
                <label for="password-repeat"><b>REPEAT PASSWORD</b></label>
                <input type="password" placeholder=" Confirm Password" name="password-repeat" id="password-repeat" required>
                <br><br>
                <label for="image"><b>UPLOAD PROFILE PHOTO</b></label><br>
                <div style="display: flex; flex-direction: row; justify-content: space-between;">
                    <input type="file" name="image" id="image-upload" style="width:100%;" accept="image/png, image/jpeg, image/jpg">
                </div>
                <br><br>
                <hr>
                <a class="btn-style" onclick="advanceSection(1);"><b>CONTINUE</b></a>
            </section>
            
            
            <section id="emgcy-contact" class="hidden">
                <h2><b>EMERGENCY CONTACT INFORMATION</b></h2>
                <label for="emgcy-fname"><b>FIRST NAME</b></label>
                <input type="text" placeholder=" First Name" name="emgcy-fname" id="emgcy-fname" required>
                <br><br>
                <label for="emgcy-lname"><b>LAST NAME</b></label>
                <input type="text" placeholder=" Last Name" name="emgcy-lname" id="emgcy-lname" required>
                <br><br>
                <label for="relationship"><b>RELATIONSHIP TO MEMBER</b></label>
                <input type="text" placeholder=" Relationship To Member" name="relationship" id="relationship" required>
                <br><br>
                <label for="emgcy-contactno"><b>CONTACT NUMBER</b></label>
                <input type="text" placeholder=" Contact Phone Number" name="emgcy-contactno" id="emgcy-contactno" required>
                <br><br>
                <hr>
                <p id="terms-condit">By creating an account you agree to our <a href="#"><b>Terms & Privacy Conditions.</b></a></p>
                <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center">
                    <a id="back-btn" class="btn-style" onclick="advanceSection(-1);"><b>BACK</b></a>
                    <button type="submit" id="registerbtn" class="btn-style"><b>REGISTER</b></button>
                </div>
            </section>
        </form>
    </section>
    <section id="regpg-signin">
        <p>Already have an account? </p>
        <button id="register-signin-btn" type="submit" onclick="openUserProfileModal();" style="font-weight: bolder">Login</button>
    </section>

    <script>
        let sectionIndex = 0;
        function advanceSection(indexIncrement) {
            let sections = document.querySelectorAll("form > section");
            let currentSection = sections[sectionIndex];
            currentSection.classList.remove("visible");
            sectionIndex += indexIncrement;
            sectionIndex = sectionIndex < 0 ? 0 : sectionIndex;
            let nextSection = sections[sectionIndex];
            currentSection.classList.add("hidden");
            nextSection.classList.remove("hidden");
            nextSection.classList.add("visible");

            document.querySelector('#reg-form').scrollIntoView({
                block: 'start',
                behavior: 'smooth'
            })
        }
    </script>
</section>

{% endblock %}